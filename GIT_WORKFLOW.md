# Git Workflow for Medical Robotics Sim

**Repository**: https://github.com/zhuangzard/medical-robotics-sim (Private)

---

## ğŸ¯ ä¿æŠ¤æœºåˆ¶

è¿™ä¸ªé¡¹ç›®é…ç½®äº†è‡ªåŠ¨ä¿æŠ¤æœºåˆ¶ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ï¼š

1. **è‡ªåŠ¨æäº¤è„šæœ¬** - å¿«é€Ÿä¿å­˜å·¥ä½œè¿›åº¦
2. **é‡Œç¨‹ç¢‘ä¿å­˜** - æ ‡è®°é‡è¦æ£€æŸ¥ç‚¹
3. **æ™ºèƒ½ .gitignore** - ä¿ç•™é‡è¦æ–‡ä»¶ï¼Œå¿½ç•¥å¤§æ–‡ä»¶
4. **å®šæœŸæ¨é€** - ç¡®ä¿è¿œç¨‹å¤‡ä»½

---

## ğŸ“ æ—¥å¸¸ä½¿ç”¨

### å¿«é€Ÿä¿å­˜ï¼ˆä»»ä½•æ—¶å€™ï¼‰

```bash
cd ~/.openclaw/workspace/medical-robotics-sim

# è‡ªåŠ¨æäº¤å¹¶æ¨é€æ‰€æœ‰æ›´æ”¹
./scripts/auto_commit.sh "æè¿°ä½ çš„æ›´æ”¹"

# ç¤ºä¾‹
./scripts/auto_commit.sh "å®Œæˆ EdgeFrame å®ç°"
./scripts/auto_commit.sh "ä¿®å¤ GNN è®­ç»ƒ bug"
./scripts/auto_commit.sh "æ·»åŠ å®éªŒç»“æœåˆ†æ"
```

**ç‰¹ç‚¹**:
- âœ… è‡ªåŠ¨ add æ‰€æœ‰æ›´æ”¹
- âœ… è‡ªåŠ¨ commit
- âœ… è‡ªåŠ¨ push åˆ° GitHub
- âœ… æ˜¾ç¤ºæäº¤çš„æ–‡ä»¶åˆ—è¡¨

---

## ğŸ¯ é‡è¦é‡Œç¨‹ç¢‘ï¼ˆæ ‡å¿—æ€§ä»»åŠ¡å®Œæˆåï¼‰

```bash
# ä¿å­˜é‡è¦é‡Œç¨‹ç¢‘å¹¶æ‰“æ ‡ç­¾
./scripts/milestone_save.sh "Week 1 Day 1-2 å®Œæˆ" "EdgeFrame + DynamicalGNN å®ç°å®Œæˆ"

# æ›´å¤šç¤ºä¾‹
./scripts/milestone_save.sh "åŸºç¡€ç¯å¢ƒå®Œæˆ" "MuJoCo ç¯å¢ƒå’Œ Gym æ¥å£å®ç°"
./scripts/milestone_save.sh "è®­ç»ƒç®¡çº¿å®Œæˆ" "PPO + GNS + PhysRobot è®­ç»ƒå®Œæˆ"
./scripts/milestone_save.sh "è®ºæ–‡æ•°æ®æ”¶é›†å®Œæˆ" "Table 1 å’Œ Figure 2 æ•°æ®ç”Ÿæˆ"
```

**ç‰¹ç‚¹**:
- âœ… åˆ›å»º Git æ ‡ç­¾ï¼ˆå¦‚ `milestone-week1-day1-complete`ï¼‰
- âœ… è‡ªåŠ¨è®°å½•åˆ° MILESTONES.md
- âœ… å¯ä»¥å›æ»šåˆ°ä»»æ„é‡Œç¨‹ç¢‘
- âœ… åœ¨ GitHub Releases é¡µé¢å¯è§

---

## ğŸ“‚ æ–‡ä»¶ç®¡ç†ç­–ç•¥

### âœ… ä¼šæäº¤åˆ° Git

**ä»£ç å’Œé…ç½®**:
- âœ… æ‰€æœ‰ `.py` æ–‡ä»¶
- âœ… æ‰€æœ‰ `.sh` è„šæœ¬
- âœ… `environment.yml`, `requirements.txt`
- âœ… `config.yaml`, `*.yaml`, `*.yml`

**æ–‡æ¡£**:
- âœ… æ‰€æœ‰ `.md` æ–‡ä»¶ï¼ˆREADME, æŠ¥å‘Š, è®¡åˆ’ç­‰ï¼‰
- âœ… `docs/` å’Œ `research/` ç›®å½•ä¸‹æ‰€æœ‰æ–‡æ¡£
- âœ… `MILESTONES.md`, `EXPERIMENT_LOG.md`

**å°å‹æ•°æ®/é…ç½®**:
- âœ… `data/**/config.json`
- âœ… `data/**/metadata.yaml`
- âœ… `models/**/config.json`
- âœ… `results/**/*.md`, `results/**/*.json`

### âŒ ä¸æäº¤åˆ° Gitï¼ˆä½†ä¿ç•™åœ¨æœ¬åœ°ï¼‰

**å¤§å‹æ–‡ä»¶**:
- âŒ `data/**/*.pkl` (å¤§å‹ä»¿çœŸæ•°æ®)
- âŒ `models/**/*.pth` (è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡)
- âŒ `logs/**/*.log` (è®­ç»ƒæ—¥å¿—)
- âŒ `*.tar.gz`, `*.zip` (å‹ç¼©åŒ…)

**åŸå› **: è¿™äº›æ–‡ä»¶å¯ä»¥é‡æ–°ç”Ÿæˆï¼Œä¸”ä½“ç§¯å¤ªå¤§ä¸é€‚åˆ Git

**ä¿æŠ¤æªæ–½**: 
- æœ¬åœ°ä¿ç•™ï¼Œç”¨äºåç»­åˆ†æ
- é…ç½®å…ƒæ•°æ®ï¼ˆconfig.json, metadata.yamlï¼‰ä¼šæäº¤
- å¯ä»¥æ ¹æ®å…ƒæ•°æ®é‡æ–°ç”Ÿæˆ

---

## ğŸ”„ æŸ¥çœ‹å†å²å’Œå›æ»š

### æŸ¥çœ‹æ‰€æœ‰é‡Œç¨‹ç¢‘

```bash
# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag -l "milestone-*"

# æŸ¥çœ‹é‡Œç¨‹ç¢‘è¯¦æƒ…
git show milestone-week1-day1-complete
```

### å›æ»šåˆ°æŸä¸ªé‡Œç¨‹ç¢‘

```bash
# åˆ›å»ºæ–°åˆ†æ”¯ä»é‡Œç¨‹ç¢‘å¼€å§‹
git checkout -b experiment-branch milestone-week1-day1-complete

# æˆ–è€…ç›´æ¥å›æ»šï¼ˆè°¨æ…ï¼ï¼‰
git reset --hard milestone-week1-day1-complete
```

### æŸ¥çœ‹æ›´æ”¹å†å²

```bash
# æŸ¥çœ‹æœ€è¿‘ 10 æ¬¡æäº¤
git log --oneline -10

# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„å†å²
git log --follow physics_core/edge_frame.py

# æŸ¥çœ‹ä¸¤ä¸ªæäº¤ä¹‹é—´çš„å·®å¼‚
git diff milestone-week1-day1-complete milestone-week1-day3-complete
```

---

## ğŸ›¡ï¸ æ•°æ®ä¿æŠ¤åŸåˆ™

### 1. **é¢‘ç¹æäº¤** (Commit Often)
- æ¯å®Œæˆä¸€ä¸ªåŠŸèƒ½/ä¿®å¤ä¸€ä¸ª bug â†’ ç«‹å³æäº¤
- ä¸è¦ç´¯ç§¯å¤ªå¤šæ›´æ”¹æ‰æäº¤
- æäº¤ä¿¡æ¯è¦æ¸…æ™°æè¿°åšäº†ä»€ä¹ˆ

### 2. **é‡Œç¨‹ç¢‘æ ‡è®°** (Milestone Tagging)
- å®Œæˆ Week è®¡åˆ’çš„æŸä¸€å¤© â†’ æ‰“æ ‡ç­¾
- å®Œæˆå…³é”®å®éªŒ â†’ æ‰“æ ‡ç­¾
- ç”Ÿæˆè®ºæ–‡æ•°æ® â†’ æ‰“æ ‡ç­¾
- é‡å¤§æ¶æ„å˜æ›´å‰ â†’ æ‰“æ ‡ç­¾ï¼ˆæ–¹ä¾¿å›æ»šï¼‰

### 3. **è¿œç¨‹å¤‡ä»½** (Remote Backup)
- æ¯æ¬¡æäº¤è‡ªåŠ¨æ¨é€åˆ° GitHub
- ç§æœ‰ä»“åº“ï¼Œæ•°æ®å®‰å…¨
- å¯ä»¥ä»ä»»ä½•åœ°æ–¹è®¿é—®

### 4. **æœ¬åœ°ä¿æŠ¤** (Local Protection)
- å¤§å‹æ•°æ®æ–‡ä»¶æœ¬åœ°ä¿ç•™
- å®šæœŸå¤‡ä»½æ•´ä¸ª `medical-robotics-sim/` æ–‡ä»¶å¤¹åˆ°å¤–éƒ¨ç¡¬ç›˜
- Time Machine æˆ–å…¶ä»–å¤‡ä»½å·¥å…·

---

## ğŸ¤– OpenClaw Agent è‡ªåŠ¨ä½¿ç”¨

ä½œä¸º OpenClaw Agentï¼Œæˆ‘ä¼šåœ¨ä»¥ä¸‹æ—¶æœºè‡ªåŠ¨ä¿å­˜ï¼š

### è‡ªåŠ¨è§¦å‘ä¿å­˜çš„æ—¶æœº

1. **å®Œæˆä»£ç å®ç°**
   ```bash
   ./scripts/auto_commit.sh "å®ç° EdgeFrame åå¯¹ç§°çº¦æŸ"
   ```

2. **é€šè¿‡å•å…ƒæµ‹è¯•**
   ```bash
   ./scripts/auto_commit.sh "EdgeFrame å•å…ƒæµ‹è¯•é€šè¿‡ (10/10)"
   ```

3. **å®Œæˆå®éªŒ**
   ```bash
   ./scripts/auto_commit.sh "å®Œæˆ PPO baseline è®­ç»ƒå®éªŒ"
   ```

4. **ç”ŸæˆæŠ¥å‘Š**
   ```bash
   ./scripts/auto_commit.sh "æ·»åŠ  Week 1 Day 1-2 å®ŒæˆæŠ¥å‘Š"
   ```

5. **è¾¾æˆé‡Œç¨‹ç¢‘**
   ```bash
   ./scripts/milestone_save.sh "Week 1 å®Œæˆ" "EdgeFrame + GNN + PushBox + è®­ç»ƒç®¡çº¿å®Œæ•´å®ç°"
   ```

### è‡ªåŠ¨åŒ–æµç¨‹

æ¯æ¬¡ Sub-agent å®Œæˆå·¥ä½œåï¼Œä¸» Agent ä¼šï¼š
1. âœ… æ£€æŸ¥æ›´æ”¹å†…å®¹
2. âœ… ç”Ÿæˆæ¸…æ™°çš„ commit message
3. âœ… è°ƒç”¨ `auto_commit.sh` ä¿å­˜
4. âœ… åœ¨é‡è¦èŠ‚ç‚¹è°ƒç”¨ `milestone_save.sh`
5. âœ… åœ¨ Telegram æŠ¥å‘Šä¸­åŒ…å« GitHub é“¾æ¥

---

## ğŸ“Š ç›‘æ§å’ŒéªŒè¯

### æ£€æŸ¥ Git çŠ¶æ€

```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# æŸ¥çœ‹æœ€è¿‘çš„æäº¤
git log --oneline -5

# æŸ¥çœ‹è¿œç¨‹åŒæ­¥çŠ¶æ€
git remote -v
git fetch origin
git status
```

### éªŒè¯æ¨é€æˆåŠŸ

1. è®¿é—® https://github.com/zhuangzard/medical-robotics-sim
2. æ£€æŸ¥æœ€æ–°æäº¤æ—¶é—´
3. æŸ¥çœ‹ Releases é¡µé¢æŸ¥çœ‹é‡Œç¨‹ç¢‘æ ‡ç­¾

---

## ğŸš¨ ç´§æ€¥æƒ…å†µå¤„ç†

### åœºæ™¯ 1: æ„å¤–åˆ é™¤æ–‡ä»¶

```bash
# æ¢å¤æœ€è¿‘ä¸€æ¬¡æäº¤çš„çŠ¶æ€
git checkout HEAD -- <file-path>

# æ¢å¤æ•´ä¸ªç›®å½•
git checkout HEAD -- physics_core/
```

### åœºæ™¯ 2: æäº¤äº†é”™è¯¯å†…å®¹

```bash
# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset --soft HEAD~1

# é‡æ–°æäº¤
./scripts/auto_commit.sh "æ­£ç¡®çš„æäº¤ä¿¡æ¯"
```

### åœºæ™¯ 3: éœ€è¦å›åˆ°æŸä¸ªå†å²ç‰ˆæœ¬

```bash
# åˆ›å»ºå¤‡ä»½åˆ†æ”¯
git branch backup-$(date +%Y%m%d)

# å›æ»šåˆ°æŸä¸ªæäº¤
git reset --hard <commit-hash>

# å¼ºåˆ¶æ¨é€ï¼ˆè°¨æ…ï¼ç¡®ä¿çŸ¥é“åœ¨åšä»€ä¹ˆï¼‰
git push origin main --force
```

---

## ğŸ“ æœ€ä½³å®è·µ

### DO âœ…

1. **é¢‘ç¹æäº¤** - å°æ­¥å¿«è·‘ï¼Œæ¯æ¬¡æ›´æ”¹éƒ½æäº¤
2. **æ¸…æ™°çš„æäº¤ä¿¡æ¯** - æè¿°"åšäº†ä»€ä¹ˆ"ï¼Œä¸æ˜¯"ä¿®æ”¹äº†æ–‡ä»¶"
3. **é‡Œç¨‹ç¢‘æ ‡è®°** - é‡è¦èŠ‚ç‚¹æ‰“æ ‡ç­¾
4. **å®šæœŸæ£€æŸ¥è¿œç¨‹** - ç¡®ä¿æ¨é€æˆåŠŸ
5. **ä¿ç•™å…ƒæ•°æ®** - å³ä½¿å¿½ç•¥å¤§æ–‡ä»¶ï¼Œä¹Ÿä¿ç•™ config.json

### DON'T âŒ

1. **ä¸è¦ç´¯ç§¯å¤§é‡æ›´æ”¹æ‰æäº¤** - å®¹æ˜“å†²çªå’Œä¸¢å¤±
2. **ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯** - API keys, passwordsï¼ˆæœ¬é¡¹ç›®æ— æ­¤é—®é¢˜ï¼‰
3. **ä¸è¦ force push** - é™¤éç¡®å®éœ€è¦ä¸”çŸ¥é“åæœ
4. **ä¸è¦å¿½ç•¥æ–‡æ¡£** - `.md` æ–‡ä»¶å’Œä»£ç ä¸€æ ·é‡è¦
5. **ä¸è¦ä¾èµ–å•ä¸€å¤‡ä»½** - Git + æœ¬åœ°å¤‡ä»½ + Time Machine å¤šé‡ä¿æŠ¤

---

## ğŸ“ è”ç³»å’Œæ”¯æŒ

- **GitHub Issues**: https://github.com/zhuangzard/medical-robotics-sim/issues
- **é¡¹ç›®æ–‡æ¡£**: `README.md`, `PROTOTYPE_PLAN.md`
- **å®éªŒè®°å½•**: `EXPERIMENT_LOG.md`
- **é‡Œç¨‹ç¢‘è¿½è¸ª**: `MILESTONES.md`

---

**æœ€åæ›´æ–°**: 2026-02-05 14:05 EST  
**ç‰ˆæœ¬**: 1.0  
**ç»´æŠ¤è€…**: OpenClaw Agent (å°è™¾ ğŸ¦)
